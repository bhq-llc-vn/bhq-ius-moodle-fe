"use strict";(self.webpackChunkbhq_ius_moodle=self.webpackChunkbhq_ius_moodle||[]).push([[82],{6082:(re,D,l)=>{l.r(D),l.d(D,{ReportOneModule:()=>le});var g=l(9808),p=l(9826),v=l(520),T=l(7793),k=l(2340),e=l(5e3),d=l(7957),m=l(1452),L=l(8319),S=l(1396),r=l(2382),f=l(6042),C=l(2683),_=l(2643),N=l(7281);let J=(()=>{class i{constructor(t,n,o,a,u){this.modelRef=t,this.service=n,this.notifyService=o,this.shareService=a,this.fb=u,this.file={},this.fileList=[],this.upLoading=!1,this.progress=0,this.files=[],this.fileTypeSupport=".XML",this.urlUpload=k.N.apiUrl+"report-one/upload-xml",this.title="",this.taskId=0,this.modalOptions={nzDuration:2e3},this.formValidation=this.fb.group({isLoading:[!1,[]]})}ngOnInit(){}isLoadingSpinner(){this.shareService.isLoadingModal.subscribe({next:t=>{console.log(t),this.upLoading=t},error:t=>{console.log(t)}})}onChangeEventUploadFile(t){console.log(t),this.fileList=t}onDeleteEvent(t){t&&t.message===T.C.success&&this.notifyService.success("X\xf3a th\xe0nh c\xf4ng"),t&&t.message===T.C.error&&this.notifyService.error(t.message)}save(){this.fileList&&this.fileList.length>0&&this.service.uploadFileXml(this.fileList[0]).subscribe({next:t=>{console.log(t),t.type===v.dt.UploadProgress&&(this.progress=Math.round(100*t.loaded/t.total)),t.message!==T.C.error?t.message===T.C.success&&(this.notifyService.success("Upload file th\xe0nh c\xf4ng"),this.shareService.isUploadingSuccess.next(!0),setTimeout(()=>{this.close()},1e3)):this.notifyService.error("C\xf3 l\u1ed7i trong qu\xe1 tr\xecnh upload")},error:t=>{console.log(t)}})}handleChange(t){console.log(t);let n=[...t.fileList];n=n.slice(-1),n=n.map(o=>(o.response&&(o.url=o.response.url),o)),console.log(n),this.fileList=n}close(){this.modelRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.Lf),e.Y36(m.L),e.Y36(L.c),e.Y36(S.t),e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-upload-file-report-one"]],inputs:{title:"title",taskId:"taskId"},decls:7,vars:4,consts:[[1,"modal-content","p-2"],[3,"isDialog","fileListInput","onChange","onDelete"],[1,"modal-footer-custom","p-2"],["nz-button","","nzType","primary",1,"mr-2",3,"nzLoading","click"],["nz-button","","nzType","default",3,"nzLoading","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"app-input-file",1),e.NdJ("onChange",function(a){return n.onChangeEventUploadFile(a)})("onDelete",function(a){return n.onDeleteEvent(a)}),e.qZA()(),e.TgZ(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.save()}),e._uU(4," T\u1ea3i l\xean "),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return n.close()}),e._uU(6," Tho\xe1t "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("isDialog",!0)("fileListInput",n.files),e.xp6(2),e.Q6J("nzLoading",n.upLoading),e.xp6(2),e.Q6J("nzLoading",n.upLoading))},dependencies:[f.ix,C.w,_.dQ,N.t],styles:[".ant-modal-body{padding:7px}  .progress-bar{z-index:2;height:30px;width:100px;align-items:center;margin-top:20%;margin-bottom:20%}.modal-header-custom[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%], .modal-footer-custom[_ngcontent-%COMP%]{border:none!important}.modal-header-custom[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}.modal-footer-custom[_ngcontent-%COMP%]{display:flex;justify-content:center}.modal-custom-upload-file[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),i})();var b=l(5278),h=(()=>{return(i=h||(h={})).DRIVER="DRIVER",i.AVATAR="AVATAR",h;var i})(),x=l(1894),M=l(4546);function R(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleOk())}),e._uU(2," Submit "),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleCancel())}),e._uU(4,"H\u1ee7y"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("nzLoading",t.isConfirmLoading)}}let O=(()=>{class i{constructor(t,n){this.modalRef=t,this.service=n,this.title="",this.data="",this.listId=[],this.type="",this.isVisible=!1,this.isConfirmLoading=!1}buildMessage(){let t="";t=this.type==h.AVATAR?"\u1ea2NH":"H\u1ed2 S\u01a0",this.data=this.listId.length>0?"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u1ea9y DANH S\xc1CH "+t+" n\xe0y kh\xf4ng ?":"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u1ea9y TO\xc0N B\u1ed8 "+t+" kh\xf4ng ?"}ngOnInit(){this.buildMessage()}handleOk(){switch(this.isConfirmLoading=!0,this.type){case h.AVATAR:this.service.submitAvatar(this.listId).subscribe(t=>{200==t.status&&(this.isConfirmLoading=!1,this.modalRef.close(!0))});break;case h.DRIVER:this.service.submitDriver(this.listId).subscribe(t=>{200==t.status&&(this.isConfirmLoading=!1,this.modalRef.close(!0))})}}handleCancel(){this.isVisible=!1,this.modalRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.Lf),e.Y36(m.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-submit-form"]],inputs:{title:"title",data:"data",listId:"listId",type:"type"},decls:7,vars:1,consts:[[1,"modal-content"],["nz-form",""],[1,"flex","flex-row"],["nz-col","",1,"text-center"],["class","modal-footer",4,"nzModalFooter"],[1,"modal-footer"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-button","","nzType","default",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"p"),e._uU(5),e.qZA()()()(),e.YNc(6,R,5,1,"div",4),e.qZA()),2&t&&(e.xp6(5),e.Oqu(n.data))},dependencies:[f.ix,C.w,_.dQ,d.Uh,x.t3,M.Lr,r._Y,r.JL,r.F],styles:[".modal-content[_ngcontent-%COMP%]{border:none}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.modal-custom[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700;text-transform:uppercase}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),i})();var U=l(5017),c=l(939),z=l(1047),E=l(1711),F=l(6114);function q(i,s){1&i&&e._UZ(0,"span",19)}function j(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",14)(2,"label",12),e.NdJ("ngModelChange",function(o){const u=e.CHM(t).index,y=e.oxw();return e.KtG(y.isChecked(o,u))}),e.qZA()(),e.TgZ(3,"td",14),e._uU(4),e.qZA(),e.TgZ(5,"td",14),e._uU(6),e.qZA(),e.TgZ(7,"td",14),e._uU(8),e.qZA(),e.TgZ(9,"td",14),e._uU(10),e.qZA(),e.TgZ(11,"td",14),e._uU(12),e.qZA(),e.TgZ(13,"td",14),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",14),e._uU(17),e.qZA(),e.TgZ(18,"td",14),e._uU(19),e.qZA()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Q6J("ngModel",t.isChecked),e.xp6(2),e.hij(" ",n+1," "),e.xp6(2),e.hij(" ",t.maDK," "),e.xp6(2),e.hij(" ",t.hoVaTen," "),e.xp6(2),e.hij(" ",t.soCMT," "),e.xp6(2),e.hij(" ",t.gioiTinh," "),e.xp6(2),e.hij(" ",e.xi3(15,9,t.ngaySinh,"yyyy-MM-dd")," "),e.xp6(3),e.hij(" ",t.state," "),e.xp6(2),e.hij(" ",t.error," ")}}function B(i,s){if(1&i&&e._uU(0),2&i){const t=e.oxw();e.hij("T\u1ed5ng s\u1ed1: ",t.totalElements,"")}}const w=function(){return{x:"1200px",y:"400px"}};let I=(()=>{class i{constructor(t,n,o,a,u){this.service=t,this.modalService=n,this.notifyService=o,this.shareService=a,this.element=u,this.listId=[],this.searchField=["Name","Email","Advanced Filter"],this.pageNumber=1,this.pageSize=10,this.totalElements=0,this.checkedBoxAll=!1,this.FilterValue="",this.disableRoute=!1,this.isCollapse=!1,this.modalOptions={nzDuration:2e3}}ngOnInit(){this.getDriver(),console.log(this.listId),this.isUploadFileSuccess(),this.isLoadingData()}isUploadFileSuccess(){this.shareService.isUploadingSuccess.subscribe({next:t=>{console.log(t),t&&(this.txtSearch="",this.getDriver())}})}isLoadingData(){this.shareService.isTabDriver.subscribe({next:t=>{console.log(t),t&&(this.txtSearch="",this.getDriver())},error:t=>{},complete:()=>{}})}isCollapsed(){this.isCollapse=!this.isCollapse}search(){const t=this.element.nativeElement.querySelector("#search");(null!=t.value||""!=t.value)&&(this.txtSearch=`username.cn.${t.value},`),this.getDriver()}getFilterValue(t){console.log(this.searchField[t]),this.FilterValue=this.searchField[t]}changePageSize(t){this.pageSize=t,this.getDriver()}changePageNumber(t){this.pageNumber=t,this.getDriver()}checkedAll(t){console.log(t),this.listData.forEach(n=>{if(n.isChecked=t,!0===n.isChecked&&-1===this.listId.indexOf(n.id))this.listId.push(n.id);else{if(!0===n.isChecked&&-1!==this.listId.indexOf(n.id))return;this.listId=[]}console.log(this.listId)})}isChecked(t,n){this.listData[n].isChecked=t,this.checkIntoArr(n),console.log(this.listId)}checkIntoArr(t){let n=this.listData[t];if(!0===n.isChecked&&-1===this.listId.indexOf(n.id))this.listId.push(n.id);else{let o=this.listId.indexOf(n.id);console.log(o),o>-1&&this.listId.splice(o,1)}}getDriver(){this.service.searchDriver(this.pageNumber,this.pageSize,this.txtSearch).subscribe({next:t=>{console.log(t),this.listData=t.pagingData.content,this.totalElements=t.pagingData.totalElements,this.totalPages=t.pagingData.totalPages},error:t=>{console.log(t)}})}onSubmit(){this.modalService.create({nzTitle:"\u0110\u1ea9y h\u1ed3 s\u01a1 l\xean h\u1ec7 th\u1ed1ng",nzContent:O,nzClassName:"modal-custom",nzWidth:"400px",nzCentered:!0,nzMaskClosable:!1,nzDirection:"ltr",nzComponentParams:{listId:this.listId,type:h.DRIVER}}).afterClose.subscribe({next:t=>{console.log(t),t&&this.notifyService.success("Th\xe0nh c\xf4ng","\u0110\u1ea9y h\u1ed3 s\u01a1",this.modalOptions),this.getDriver()},error:t=>{console.log(t)}})}onSubmitAvatar(){this.modalService.create({nzTitle:"\u0110\u1ea9y \u1ea3nh l\xean h\u1ec7 th\u1ed1ng",nzContent:O,nzClassName:"modal-custom",nzWidth:"400px",nzCentered:!0,nzMaskClosable:!1,nzDirection:"ltr",nzComponentParams:{listId:this.listId,type:h.AVATAR}}).afterClose.subscribe({next:t=>{console.log(t),t&&this.notifyService.success("Th\xe0nh c\xf4ng","\u0110\u1ea9y \u1ea3nh",this.modalOptions),this.getDriver()},error:t=>{console.log(t)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.L),e.Y36(d.Sf),e.Y36(b.zb),e.Y36(S.t),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-driver"]],decls:43,vars:11,consts:[[1,"member-wrapper"],[1,"container"],[1,"row"],["nz-row","",2,"width","100%","margin-top","1.5em",3,"nzGutter"],["nz-col","","nzSpan","12"],[1,"search",3,"nzSuffix"],["id","search","type","text","nz-input","","placeholder","Nh\u1eadp t\u1eeb t\xecm ki\u1ebfm",3,"keyup.enter"],["suffixIconSearch",""],[1,"float-right"],["nz-button","",1,"ml-auto","mr-2",3,"click"],["nzShowPagination","false",1,"table",2,"width","100%","margin-top","1.5em",3,"nzScroll","nzData"],["nzAlign","center","nzWidth","50px"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nzAlign","center","nzWidth","80px"],["nzAlign","center"],[4,"ngFor","ngForOf"],[1,"paging"],["nzShowSizeChanger","",3,"nzPageIndex","nzTotal","nzPageSize","nzShowTotal","nzPageIndexChange","nzPageSizeChange"],["total",""],["nz-icon","","nzType","search"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nz-input-group",5)(6,"input",6),e.NdJ("keyup.enter",function(){return n.search()}),e.qZA()(),e.YNc(7,q,1,0,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(9,"div",4)(10,"div",8)(11,"button",9),e.NdJ("click",function(){return n.onSubmit()}),e._uU(12," Submit h\u1ecdc vi\xean "),e.qZA(),e.TgZ(13,"button",9),e.NdJ("click",function(){return n.onSubmitAvatar()}),e._uU(14," Submit \u1ea2nh h\u1ecdc vi\xean "),e.qZA()()()()(),e.TgZ(15,"div",2)(16,"nz-table",10)(17,"thead")(18,"tr")(19,"th",11)(20,"label",12),e.NdJ("ngModelChange",function(a){return n.checkedAll(a)}),e.qZA()(),e.TgZ(21,"th",13),e._uU(22,"STT"),e.qZA(),e.TgZ(23,"th",14),e._uU(24,"M\xe3 \u0111\u0103ng k\xfd"),e.qZA(),e.TgZ(25,"th",14),e._uU(26,"H\u1ecd v\xe0 t\xean"),e.qZA(),e.TgZ(27,"th",14),e._uU(28,"S\u1ed1 CMT"),e.qZA(),e.TgZ(29,"th",14),e._uU(30,"Gi\u1edbi t\xednh"),e.qZA(),e.TgZ(31,"th",14),e._uU(32,"Ng\xe0y sinh"),e.qZA(),e.TgZ(33,"th",14),e._uU(34,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(35,"th",14),e._uU(36,"Ghi ch\xfa"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,j,20,12,"tr",15),e.qZA()(),e.TgZ(39,"div",16)(40,"nz-pagination",17),e.NdJ("nzPageIndexChange",function(a){return n.changePageNumber(a)})("nzPageSizeChange",function(a){return n.changePageSize(a)})("nzPageIndexChange",function(a){return n.pageNumber=a})("nzPageSizeChange",function(a){return n.pageSize=a}),e.qZA(),e.YNc(41,B,1,1,"ng-template",null,18,e.W1O),e.qZA()()()()),2&t){const o=e.MAs(8),a=e.MAs(42);e.xp6(3),e.Q6J("nzGutter",8),e.xp6(2),e.Q6J("nzSuffix",o),e.xp6(11),e.Q6J("nzScroll",e.DdM(10,w))("nzData",n.listData),e.xp6(4),e.Q6J("ngModel",n.checkedBoxAll),e.xp6(18),e.Q6J("ngForOf",n.listData),e.xp6(2),e.Q6J("nzPageIndex",n.pageNumber)("nzTotal",n.totalElements)("nzPageSize",n.pageSize)("nzShowTotal",a)}},dependencies:[g.sg,U.Ls,f.ix,C.w,_.dQ,c.N8,c.Uo,c._C,c.Om,c.p0,c.$Z,c.UX,z.Zp,z.gB,z.ke,E.dE,F.Ie,x.t3,x.SK,r.JJ,r.On,g.uU],styles:[".tool[_ngcontent-%COMP%]{display:flex}.tool[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:50%}.paging[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding:2em 0}"]}),i})();function Y(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleOk())}),e._uU(2," Submit "),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleCancel())}),e._uU(4,"H\u1ee7y"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("nzLoading",t.isConfirmLoading)}}let H=(()=>{class i{constructor(t,n){this.modalRef=t,this.service=n,this.title="",this.data="",this.listId=[],this.isVisible=!1,this.isConfirmLoading=!1}buildMessage(){this.data=this.listId.length>0?"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u1ea9y NH\u1eeeNG KH\xd3A H\u1eccC n\xe0y kh\xf4ng ?":"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n \u0111\u1ea9y TO\xc0N B\u1ed8 KH\xd3A H\u1eccC kh\xf4ng ?"}ngOnInit(){this.buildMessage()}handleOk(){this.isConfirmLoading=!0,this.service.submitCourse(this.listId).subscribe(t=>{200==t.status&&(this.isConfirmLoading=!1,this.modalRef.close(!0))})}handleCancel(){this.isVisible=!1,this.modalRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.Lf),e.Y36(m.L))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-submit-form"]],inputs:{title:"title",data:"data",listId:"listId"},decls:7,vars:1,consts:[[1,"modal-content"],["nz-form",""],[1,"flex","flex-row"],["nz-col","",1,"text-center"],["class","modal-footer",4,"nzModalFooter"],[1,"modal-footer"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-button","","nzType","default",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"p"),e._uU(5),e.qZA()()()(),e.YNc(6,Y,5,1,"div",4),e.qZA()),2&t&&(e.xp6(5),e.Oqu(n.data))},dependencies:[f.ix,C.w,_.dQ,d.Uh,x.t3,M.Lr,r._Y,r.JL,r.F],styles:[".modal-content[_ngcontent-%COMP%]{border:none}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.modal-custom[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700;text-transform:uppercase}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),i})();function Q(i,s){1&i&&e._UZ(0,"span",15)}function V(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",9)(2,"label",10),e.NdJ("ngModelChange",function(o){const u=e.CHM(t).index,y=e.oxw();return e.KtG(y.isChecked(o,u))}),e.qZA()(),e.TgZ(3,"td",9),e._uU(4),e.qZA(),e.TgZ(5,"td",9),e._uU(6),e.qZA(),e.TgZ(7,"td",9),e._uU(8),e.qZA(),e.TgZ(9,"td",9),e._uU(10),e.qZA(),e.TgZ(11,"td",9),e._uU(12),e.qZA(),e.TgZ(13,"td",9),e._uU(14),e.qZA(),e.TgZ(15,"td",9),e._uU(16),e.qZA(),e.TgZ(17,"td",9),e._uU(18),e.qZA(),e.TgZ(19,"td",9),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"td",9),e._uU(23),e.ALo(24,"date"),e.qZA(),e.TgZ(25,"td",9),e._uU(26),e.qZA(),e.TgZ(27,"td",9),e._uU(28),e.qZA()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Q6J("ngModel",t.isChecked),e.xp6(2),e.hij(" ",n+1," "),e.xp6(2),e.hij(" ",t.maBCI," "),e.xp6(2),e.hij(" ",t.tenSoGTVT," "),e.xp6(2),e.hij(" ",t.tenCSDT," "),e.xp6(2),e.hij(" ",t.maKhoaHoc," "),e.xp6(2),e.hij(" ",t.tenKhoaHoc," "),e.xp6(2),e.hij(" ",t.hangGPLX," "),e.xp6(2),e.hij(" ",t.soHocSinh," "),e.xp6(2),e.hij(" ",e.xi3(21,13,t.ngayKhaiGiang,"dd/MM/yyyy")," "),e.xp6(3),e.hij(" ",e.xi3(24,16,t.ngayBeGiang,"dd/MM/yyyy")," "),e.xp6(3),e.hij(" ",t.state," "),e.xp6(2),e.hij(" ",t.error," ")}}function G(i,s){if(1&i&&e._uU(0),2&i){const t=e.oxw();e.hij("T\u1ed5ng s\u1ed1: ",t.totalElements,"")}}let X=(()=>{class i{constructor(t,n,o,a,u){this.service=t,this.modalService=n,this.notifyService=o,this.shareService=a,this.element=u,this.listId=[],this.searchField=["tenKhoaHoc","maKhoaHoc"],this.pageNumber=1,this.pageSize=10,this.totalElements=0,this.checkedBoxAll=!1,this.FilterValue="",this.disableRoute=!1,this.isCollapse=!1,this.modalOptions={nzDuration:2e3}}ngOnInit(){this.getCourse(),console.log(this.listId),this.isUploadFileSuccess(),this.isLoadingData()}isCollapsed(){this.isCollapse=!this.isCollapse}isUploadFileSuccess(){this.shareService.isUploadingSuccess.subscribe({next:t=>{console.log(t),t&&(this.txtSearch="",this.getCourse())}})}isLoadingData(){this.shareService.isTabCourse.subscribe({next:t=>{console.log(t),t&&(this.txtSearch="",this.getCourse())},error:t=>{},complete:()=>{}})}search(){const t=this.element.nativeElement.querySelector("#search");(null!=t.value||""!=t.value)&&(this.txtSearch=`username.cn.${t.value},`),this.getCourse()}getFilterValue(t){console.log(this.searchField[t]),this.FilterValue=this.searchField[t]}checkedAll(t){console.log(t),this.listData.forEach(n=>{if(n.isChecked=t,!0===n.isChecked&&-1===this.listId.indexOf(n.id))this.listId.push(n.id);else{if(!0===n.isChecked&&-1!==this.listId.indexOf(n.id))return;this.listId=[]}console.log(this.listId)})}isChecked(t,n){this.listData[n].isChecked=t,this.checkIntoArr(n),console.log(this.listId)}checkIntoArr(t){let n=this.listData[t];if(!0===n.isChecked&&-1===this.listId.indexOf(n.id))this.listId.push(n.id);else{let o=this.listId.indexOf(n.id);console.log(o),o>-1&&this.listId.splice(o,1)}}changePageSize(t){this.pageSize=t,this.getCourse()}changePageNumber(t){this.pageNumber=t,this.getCourse()}getCourse(){this.service.searchCourse(this.pageNumber,this.pageSize,this.txtSearch).subscribe({next:t=>{console.log(t),this.listData=t.pagingData.content,this.totalElements=t.pagingData.totalElements,this.totalPages=t.pagingData.totalPages},error:t=>{console.log(t)}})}onSubmit(){this.modalService.create({nzTitle:"\u0110\u1ea9y kh\xf3a h\u1ecdc l\xean h\u1ec7 th\u1ed1ng",nzContent:H,nzClassName:"modal-custom",nzWidth:"400px",nzCentered:!0,nzMaskClosable:!1,nzDirection:"ltr",nzComponentParams:{listId:this.listId}}).afterClose.subscribe({next:t=>{console.log(t),t&&this.notifyService.success("Th\xe0nh c\xf4ng","\u0110\u1ea9y h\u1ed3 s\u01a1",this.modalOptions),this.getCourse()},error:t=>{console.log(t)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.L),e.Y36(d.Sf),e.Y36(b.zb),e.Y36(S.t),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-course"]],decls:45,vars:8,consts:[[1,"member-wrapper"],[1,"container"],[1,"row"],[1,"tool",2,"width","100%","margin-top","1.5em"],[1,"search",3,"nzSuffix"],["id","search","type","text","nz-input","","placeholder","Nh\u1eadp t\u1eeb t\xecm ki\u1ebfm",3,"keyup.enter"],["suffixIconSearch",""],["nz-button","",1,"ml-auto","mr-2",3,"click"],["nzShowPagination","false",1,"table",2,"width","100%","margin-top","1.5em",3,"nzData"],["nzAlign","center"],["nz-checkbox","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"paging"],["nzShowSizeChanger","",3,"nzPageIndex","nzTotal","nzPageSize","nzShowTotal","nzPageIndexChange","nzPageSizeChange"],["total",""],["nz-icon","","nzType","search"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"nz-input-group",4)(5,"input",5),e.NdJ("keyup.enter",function(){return n.search()}),e.qZA()(),e.YNc(6,Q,1,0,"ng-template",null,6,e.W1O),e.TgZ(8,"button",7),e.NdJ("click",function(){return n.onSubmit()}),e._uU(9," Submit Kh\xf3a h\u1ecdc "),e.qZA()(),e.TgZ(10,"nz-table",8)(11,"thead")(12,"tr")(13,"th",9)(14,"label",10),e.NdJ("ngModelChange",function(a){return n.checkedAll(a)}),e.qZA()(),e.TgZ(15,"th",9),e._uU(16,"STT"),e.qZA(),e.TgZ(17,"th",9),e._uU(18,"M\xe3 BC1"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"T\xean S\u1edf GTVT"),e.qZA(),e.TgZ(21,"th",9),e._uU(22,"T\xean CS\u0110T"),e.qZA(),e.TgZ(23,"th",9),e._uU(24,"M\xe3 kh\xf3a h\u1ecdc"),e.qZA(),e.TgZ(25,"th",9),e._uU(26,"T\xean kh\xf3a h\u1ecdc"),e.qZA(),e.TgZ(27,"th",9),e._uU(28,"H\u1ea1ng GPLX"),e.qZA(),e.TgZ(29,"th",9),e._uU(30,"S\u1ed1 h\u1ecdc sinh"),e.qZA(),e.TgZ(31,"th",9),e._uU(32,"Ng\xe0y khai gi\u1ea3ng"),e.qZA(),e.TgZ(33,"th",9),e._uU(34,"Ng\xe0y b\u1ebf gi\u1ea3ng"),e.qZA(),e.TgZ(35,"th",9),e._uU(36,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(37,"th",9),e._uU(38,"Ghi ch\xfa"),e.qZA()()(),e.TgZ(39,"tbody"),e.YNc(40,V,29,19,"tr",11),e.qZA()(),e.TgZ(41,"div",12)(42,"nz-pagination",13),e.NdJ("nzPageIndexChange",function(a){return n.changePageNumber(a)})("nzPageSizeChange",function(a){return n.changePageSize(a)})("nzPageIndexChange",function(a){return n.pageNumber=a})("nzPageSizeChange",function(a){return n.pageSize=a}),e.qZA(),e.YNc(43,G,1,1,"ng-template",null,14,e.W1O),e.qZA()()()()),2&t){const o=e.MAs(7),a=e.MAs(44);e.xp6(4),e.Q6J("nzSuffix",o),e.xp6(6),e.Q6J("nzData",n.listData),e.xp6(4),e.Q6J("ngModel",n.checkedBoxAll),e.xp6(26),e.Q6J("ngForOf",n.listData),e.xp6(2),e.Q6J("nzPageIndex",n.pageNumber)("nzTotal",n.totalElements)("nzPageSize",n.pageSize)("nzShowTotal",a)}},dependencies:[g.sg,U.Ls,f.ix,C.w,_.dQ,c.N8,c.Uo,c._C,c.Om,c.p0,c.$Z,c.UX,z.Zp,z.gB,z.ke,E.dE,F.Ie,r.JJ,r.On,g.uU],styles:[".tool[_ngcontent-%COMP%]{display:flex}.tool[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:50%}.paging[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding:2em 0}"]}),i})();var P=l(868);const K=[{path:"",component:(()=>{class i{constructor(t,n,o,a,u){this.reportOneDate=t,this.modalService=n,this.notifyService=o,this.shareService=a,this.element=u,this.modalOptions={nzDuration:2e3}}ngOnInit(){}emitEventLoadDataCourse(){this.shareService.isTabCourse.next(!0)}emitEventLoadDataDriver(){this.shareService.isTabDriver.next(!0)}onUpload(){this.modalService.create({nzTitle:"Upload File XML",nzClassName:"modal-custom-upload-file",nzContent:J,nzWidth:"600px",nzCentered:!0,nzMaskClosable:!1,nzClosable:!0,nzFooter:null,nzDirection:"ltr"}).afterClose.subscribe({next:t=>{console.log(t),t&&this.notifyService.success("Th\xe0nh c\xf4ng","Upload B\xe1o c\xe1o 1",this.modalOptions)},error:t=>{console.log(t)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.L),e.Y36(d.Sf),e.Y36(b.zb),e.Y36(S.t),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-report-one"]],decls:11,vars:3,consts:[[1,"wrapper"],[1,"container"],[1,"row"],[1,"tool",2,"width","100%","margin-top","1.5em"],["nz-button","",1,"ml-auto","mr-2",3,"click"],[3,"nzSize"],[3,"nzTitle","nzSelect"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.onUpload()}),e._uU(5," Upload File XML "),e.qZA()(),e.TgZ(6,"nz-tabset",5)(7,"nz-tab",6),e.NdJ("nzSelect",function(){return n.emitEventLoadDataDriver()}),e._UZ(8,"app-driver"),e.qZA(),e.TgZ(9,"nz-tab",6),e.NdJ("nzSelect",function(){return n.emitEventLoadDataCourse()}),e._UZ(10,"app-course"),e.qZA()()()()()),2&t&&(e.xp6(6),e.Q6J("nzSize","large"),e.xp6(1),e.Q6J("nzTitle","H\u1eccC VI\xcaN "),e.xp6(2),e.Q6J("nzTitle","KH\xd3A H\u1eccC "))},dependencies:[I,X,f.ix,C.w,_.dQ,P.xH,P.xw],styles:[".tool[_ngcontent-%COMP%]{display:flex}.tool[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:50%}.paging[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding:2em 0}"]}),i})()}];let W=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.Bz.forChild(K),p.Bz]}),i})();var $=l(3611),Z=l(9923),A=l(9201);const ee=[{path:"",component:I}];let te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.Bz.forChild(ee),p.Bz]}),i})(),ne=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.ez,te,Z.v,A.V,r.u5,r.UX,v.JF]}),i})();const ie=[];let oe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.Bz.forChild(ie),p.Bz]}),i})(),se=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.ez,oe,Z.v,A.V,r.u5,r.UX,v.JF]}),i})();var ae=l(7393);let le=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.ez,W,ne,se,Z.v,A.V,r.UX,v.JF,r.u5,$.G,ae.D]}),i})()}}]);