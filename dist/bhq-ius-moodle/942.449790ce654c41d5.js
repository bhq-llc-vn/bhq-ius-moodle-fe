"use strict";(self.webpackChunkbhq_ius_moodle=self.webpackChunkbhq_ius_moodle||[]).push([[942],{7942:(C,v,e)=>{e.r(v),e.d(v,{AuthenticationModule:()=>U});var d=e(9808),i=e(2382),h=e(520),c=e(9826),n=e(5e3);let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["internal-app-authentication"]],decls:1,vars:0,template:function(o,a){1&o&&n._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2}),t})();var p=e(5861),f=e(3905),u=e(5973),m=e(5017),l=e(6042),y=e(2683),T=e(2643),E=e(1047),x=e(1894),z=e(4546),_=e(2359);function A(t,r){if(1&t&&(n.ynx(0),n._UZ(1,"nz-alert",19),n.BQk()),2&t){const o=n.oxw();n.xp6(1),n.Q6J("nzMessage",o.messageError)}}function M(t,r){1&t&&(n.ynx(0),n._uU(1," M\u1ee5c n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),n.BQk())}function Z(t,r){1&t&&n.YNc(0,M,2,0,"ng-container",5),2&t&&n.Q6J("ngIf",r.$implicit.hasError("required"))}function J(t,r){1&t&&(n.ynx(0),n._uU(1," M\u1ee5c n\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng "),n.BQk())}function L(t,r){1&t&&n.YNc(0,J,2,0,"ng-container",5),2&t&&n.Q6J("ngIf",r.$implicit.hasError("required"))}function w(t,r){if(1&t){const o=n.EpF();n.TgZ(0,"i",20),n.NdJ("click",function(){n.CHM(o);const s=n.oxw();return n.KtG(s.passwordVisible=!s.passwordVisible)}),n.qZA()}if(2&t){const o=n.oxw();n.Q6J("nzType",o.passwordVisible?"eye-invisible":"eye")}}const F=[{path:"",component:g,children:[{path:"login",component:(()=>{class t{constructor(o,a,s){this.fb=o,this.authService=a,this.router=s,this.Error=!0,this.passwordVisible=!1,this.messageError=""}formBuilder(){this.loginForm=this.fb.group({username:["",[i.kI.required]],password:["",[i.kI.required]],rememberMe:[null,[]]})}ngOnInit(){this.formBuilder(),console.log("init form login")}login(){var o=this;return(0,p.Z)(function*(){try{const a=o.loginForm.value;let s=yield(0,f.z)(o.authService.login(a));s&&s.accessToken?(localStorage.setItem("access_token",s.accessToken),o.router.navigate(["pages"])):(o.Error=!1,o.messageError="T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang")}catch(a){console.log(a),o.Error=!1,o.messageError="T\xean \u0111\u0103ng nh\u1eadp ho\u1eb7c m\u1eadt kh\u1ea9u kh\xf4ng \u0111\xfang"}})()}}return t.\u0275fac=function(o){return new(o||t)(n.Y36(i.qu),n.Y36(u.$),n.Y36(c.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["internal-app-login"]],decls:33,vars:6,consts:[[1,"main-wrapper"],[1,"login-form"],[1,"login-content"],[1,"login-title","mb-4","mt-3"],[1,"login-eror"],[4,"ngIf"],["nz-form","",3,"formGroup"],[3,"nzErrorTip"],["for","username"],["nz-input","","type","text","name","username","id","username","formControlName","username"],["Username",""],["for","password"],[3,"nzSuffix"],["nz-input","","name","password","id","password","formControlName","password",3,"type"],["Password",""],["suffixTemplate",""],[1,"form-group"],[1,"mt-3"],["type","button","nz-button","","nzBlock","","nzType","primary",3,"click"],["nzType","error",1,"my-3",3,"nzMessage"],["id","eye","nz-icon","",3,"nzType","click"]],template:function(o,a){if(1&o&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"section")(4,"div",3)(5,"h4"),n._uU(6,"\u0110\u0103ng nh\u1eadp h\u1ec7 th\u1ed1ng"),n.qZA()()(),n.TgZ(7,"section"),n._UZ(8,"div",4),n.qZA(),n.TgZ(9,"section"),n.YNc(10,A,2,1,"ng-container",5),n.TgZ(11,"form",6)(12,"nz-form-item")(13,"nz-form-control",7)(14,"nz-form-label",8),n._uU(15,"T\xean \u0111\u0103ng nh\u1eadp"),n.qZA(),n._UZ(16,"input",9),n.YNc(17,Z,1,1,"ng-template",null,10,n.W1O),n.qZA()(),n.TgZ(19,"nz-form-item")(20,"nz-form-control",7)(21,"nz-form-label",11),n._uU(22,"M\u1eadt kh\u1ea9u"),n.qZA(),n.TgZ(23,"nz-input-group",12),n._UZ(24,"input",13),n.YNc(25,L,1,1,"ng-template",null,14,n.W1O),n.qZA(),n.YNc(27,w,1,1,"ng-template",null,15,n.W1O),n.qZA()(),n.TgZ(29,"div",16)(30,"div",17)(31,"button",18),n.NdJ("click",function(){return a.login()}),n._uU(32," \u0110\u0103ng nh\u1eadp "),n.qZA()()()()()()()()),2&o){const s=n.MAs(18),P=n.MAs(26),N=n.MAs(28);n.xp6(10),n.Q6J("ngIf",!a.Error),n.xp6(1),n.Q6J("formGroup",a.loginForm),n.xp6(2),n.Q6J("nzErrorTip",s),n.xp6(7),n.Q6J("nzErrorTip",P),n.xp6(3),n.Q6J("nzSuffix",N),n.xp6(1),n.Q6J("type",a.passwordVisible?"text":"password")}},dependencies:[d.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,m.Ls,l.ix,y.w,T.dQ,E.Zp,E.gB,E.ke,x.t3,x.SK,z.Lr,z.Nx,z.iK,z.Fd,_.r],styles:[".main-wrapper[_ngcontent-%COMP%]{height:100vh;width:100vw;position:relative;display:flex;justify-content:center;align-items:center}.login-form[_ngcontent-%COMP%]{width:30%}.login-form[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]{margin-top:5%;border:none;box-shadow:0 2px 4px #0000001a,0 8px 16px #0000001a;padding:30px}.login-form[_ngcontent-%COMP%]   .login-content[_ngcontent-%COMP%]   .login-title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center}#eye[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()}]}];let O=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[c.Bz.forChild(F),c.Bz]}),t})();var Q=e(9923),B=e(9201);let U=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[u.$],imports:[d.ez,i.u5,i.UX,O,h.JF,Q.v.forRoot(),B.V.forRoot()]}),t})()},5861:(C,v,e)=>{function d(h,c,n,g,p,f,u){try{var m=h[f](u),l=m.value}catch(y){return void n(y)}m.done?c(l):Promise.resolve(l).then(g,p)}function i(h){return function(){var c=this,n=arguments;return new Promise(function(g,p){var f=h.apply(c,n);function u(l){d(f,g,p,u,m,"next",l)}function m(l){d(f,g,p,u,m,"throw",l)}u(void 0)})}}e.d(v,{Z:()=>i})}}]);